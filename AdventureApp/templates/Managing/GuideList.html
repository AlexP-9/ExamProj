{% extends "BaseTempl.html" %}
{% load static %}

{% block title %}
Guides
{% endblock title %}

{% block headextra %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
{% endblock headextra %}

{% block body %}
<div class="container py-5">
  <h1 class="text-center mb-4 fw-bold">Manage guides</h1>

  <div class="d-flex justify-content-left mb-4">
    <a href="{% url 'guide_add' %}" class="btn btn-success">Add New</a>
  </div>

  <div class="mb-5">
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle">
        <thead class="table-primary">
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>E-Mail</th>
            <th>Phone</th>
            <th>Description</th>
            <th>Portrait</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for g in dbguides %}
          <tr>
            <td>{{ g.id }}</td>
            <td>{{ g.name }}</td>
            <td>{{ g.email }}</td>
            <td>{{ g.phone }}</td>
            <td>{{ g.description }}</td>
            <td><img src="{% if g.portrait %}{{ g.portrait.url }}{% else %}{% static 'DefaultProfile.jpg' %}{% endif %}" alt="{{g.name}}" class="specialist"></td>
            <td>
              <a href="{% url 'guide_edit' g.id %}" class="btn btn-sm btn-outline-primary">Edit</a>
              <a href="{% url 'guide_delete' g.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

</div>
{% endblock body %}
